# 👻 Ghost Անվտանգության Մոդուլ
**PowerShell-ի վրա հիմնված Windows և Azure անվտանգության ամրապնդման գործիք**

> **Նախազգուշացնող անվտանգության ամրապնդում Windows վերջակետերի և Azure միջավայրերի համար:** Ghost-ը տրամադրում է PowerShell-ի վրա հիմնված ամրապնդման ֆունկցիաներ, որոնք կարող են օգնել նվազեցնել հարձակման ընդհանուր վեկտորները՝ անջատելով անավարտ ծառայություններն ու արձանագրությունները:

## ⚠️ Կարևոր Հրաժարումներ

**ՓՈՐՁԱՐԿՈՒՄԸ ԱՆՀՐԱԺԵՇՏ Է**: Միշտ փորձարկեք Ghost-ը ոչ-արտադրական միջավայրերում առաջին անգամ: Ծառայությունների անջատումը կարող է ազդել օրինական բիզնես ֆունկցիաների վրա:

**ՈՉՄԻ ԵՐԱՇԽԻՔ**: Թեպետ Ghost-ը նպատակաուղղված է հարձակման ընդհանուր վեկտորներին, ոչ մի անվտանգության գործիք չի կարող կանխել բոլոր հարձակումները: Սա ամբողջական անվտանգության ռազմավարության մեկ բաղկացուցիչ մասն է:

**ՕՊԵՐԱՑԻՈՆ ԱԶԴԵՑՈՒԹՅՈՒՆ**: Որոշ ֆունկցիաներ կարող են ազդել համակարգի գործառույթների վրա: Ուշադիր գնահատեք յուրաքանչյուր կարգավորում մինչ կիրառումը:

**ՄԱՍՆԱԳԻՏԱԿԱՆ ԳՆԱՀԱՏՈՒՄ**: Արտադրական միջավայրերի համար խորհրդակցեք անվտանգության մասնագետների հետ՝ կարգավորումներն ինչպես համապատասխանացնել ձեր կազմակերպության կարիքներին:

## 📊 Անվտանգության Լանդշաֆտ

Ransomware վնասները հասան **57 միլիարդ դոլարի 2025-ին**, երբ հետազոտությունները ցույց են տալիս, որ բազմաթիվ հաջող հարձակումներ օգտագործում են Windows-ի հիմնական ծառայությունները և սխալ կազմաձևումները: Հարձակման ընդհանուր վեկտորներն ներառում են.

- **Ransomware դեպքերի 90%-ը** ներառում է RDP-ի շահագործում
- **SMBv1 խոցելիությունները** հնարավորություն տվեցին հարձակումների, ինչպիսիք են WannaCry-ն և NotPetya-ն
- **Փաստաթղթերի մակրոները** մնում են malware-ի առաքման հիմնական եղանակ
- **USB-ի վրա հիմնված հարձակումները** շարունակում են նպատակաուղղվել օդից մեկուսացված ցանցերին
- **PowerShell-ի չարաշահումը** զգալիորեն ավելացել է վերջին տարիներին

## 🛡️ Ghost Անվտանգության Ֆունկցիաներ

Ghost-ը տրամադրում է **16 Windows ամրապնդման ֆունկցիա** և **Azure անվտանգության ինտեգրում**:

### Windows Վերջակետի Ամրապնդում

| Ֆունկցիա | Նպատակ | Հաշվառումներ |
|---------|-------|-------------|
| `Set-RDP` | Կառավարում է հեռակա սեղանի հասանելիությունը | Կարող է ազդել հեռակա ադմինիստրացիայի վրա |
| `Set-SMBv1` | Կառավարում է հին SMB արձանագրությունը | Անհրաժեշտ է շատ հին համակարգերի համար |
| `Set-AutoRun` | Կառավարում է AutoPlay/AutoRun-ը | Կարող է ազդել օգտատիրոջ հարմարավետության վրա |
| `Set-USBStorage` | Սահմանափակում է USB պահպանման սարքերը | Կարող է ազդել USB-ի օրինական օգտագործման վրա |
| `Set-Macros` | Կառավարում է Office մակրոների գործարկումը | Կարող է ազդել մակրո-ակտիվացված փաստաթղթերի վրա |
| `Set-PSRemoting` | Կառավարում է PowerShell հեռակա միացումը | Կարող է ազդել հեռակա կառավարման վրա |
| `Set-WinRM` | Կառավարում է Windows հեռակա կառավարումը | Կարող է ազդել հեռակա ադմինիստրացիայի վրա |
| `Set-LLMNR` | Կառավարում է անունների լուծման արձանագրությունը | Սովորաբար անվտանգ է անջատելու համար |
| `Set-NetBIOS` | Կառավարում է NetBIOS-ը TCP/IP-ի վրա | Կարող է ազդել հին ծրագրերի վրա |
| `Set-AdminShares` | Կառավարում է ադմինիստրատիվ կիսակցումները | Կարող է ազդել հեռակա ֆայլ մուտքի վրա |
| `Set-Telemetry` | Կառավարում է տվյալների հավաքումը | Կարող է ազդել ախտորոշիչ կարողությունների վրա |
| `Set-GuestAccount` | Կառավարում է հյուրի հաշիվը | Սովորաբար անվտանգ է անջատելու համար |
| `Set-ICMP` | Կառավարում է ping պատասխանները | Կարող է ազդել ցանցի ախտորոշման վրա |
| `Set-RemoteAssistance` | Կառավարում է հեռակա օգնությունը | Կարող է ազդել օգնության սեղանի գործողությունների վրա |
| `Set-NetworkDiscovery` | Կառավարում է ցանցի հայտնաբերումը | Կարող է ազդել ցանցի զննարկման վրա |
| `Set-Firewall` | Կառավարում է Windows Firewall-ը | Կենսական է ցանցի անվտանգության համար |

### Azure Cloud Անվտանգություն

| Ֆունկցիա | Նպատակ | Պահանջներ |
|---------|-------|-----------|
| `Set-AzureSecurityDefaults` | Միացնում է Azure AD հիմնական անվտանգությունը | Microsoft Graph թույլտվություններ |
| `Set-AzureConditionalAccess` | Կարգավորում է մուտքի քաղաքականությունները | Azure AD P1/P2 լիցենզավորում |
| `Set-AzurePrivilegedUsers` | Ստուգում է արտոնյալ հաշիվները | Global Admin թույլտվություններ |

### Կորպորատիվ Տեղակայման Ընտրանքներ

| Մեթոդ | Օգտագործման Դեպք | Պահանջներ |
|-------|------------------|----------|
| **Ուղղակի Կատարում** | Փորձարկում, փոքր միջավայրեր | Տեղական ադմին իրավունքներ |
| **Group Policy** | Դոմենի միջավայրեր | Դոմենի ադմին, GP կառավարում |
| **Microsoft Intune** | Ամպային կառավարվող սարքեր | Intune լիցենզավորում, Graph API |

## 🚀 Արագ Մեկնարկ

### Անվտանգության Գնահատում
```powershell
# Բեռնել Ghost մոդուլը
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')

# Ստուգել ընթացիկ անվտանգության դիրքը
Get-Ghost
```

### Հիմնական Ամրապնդում (Նախ Փորձարկել)
```powershell
# Գոյական ամրապնդում - նախ փորձարկել լաբորատորիայի միջավայրում
Set-Ghost -SMBv1 -AutoRun -Macros

# Գնահատել փոփոխությունները
Get-Ghost
```

### Կորպորատիվ Տեղակայում
```powershell
# Group Policy տեղակայում (դոմենի միջավայրեր)
Set-Ghost -SMBv1 -AutoRun -GroupPolicy

# Intune տեղակայում (ամպային կառավարվող սարքեր)
Set-Ghost -SMBv1 -RDP -USBStorage -Intune
```

## 📋 Տեղակայման Մեթոդներ

### Ընտրանք 1: Ուղղակի Ներբեռնում (Փորձարկում)
```powershell
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')
```

### Ընտրանք 2: Մոդուլի Տեղակայում
```powershell
# Տեղակայել PowerShell Gallery-ից (հասանելի լինելու դեպքում)
Install-Module Ghost -Scope CurrentUser
Import-Module Ghost
```

### Ընտրանք 3: Կորպորատիվ Տեղակայում
```powershell
# Պատճենել ցանցային վայր Group Policy տեղակայման համար
# Կարգավորել Intune PowerShell սկրիպտները ամպային տեղակայման համար
```

## 💼 Օգտագործման Դեպքերի Օրինակներ

### Փոքր Բիզնես
```powershell
# Հիմնական պաշտպանություն նվազագույն ազդեցությամբ
Set-Ghost -SMBv1 -AutoRun -Macros -ICMP
```

### Առողջապահական Միջավայր
```powershell
# HIPAA-ի վրա կենտրոնացած ամրապնդում
Set-Ghost -SMBv1 -RDP -USBStorage -AdminShares -Telemetry
```

### Ֆինանսական Ծառայություններ
```powershell
# Բարձր անվտանգության կարգավորում
Set-Ghost -RDP -SMBv1 -AutoRun -USBStorage -Macros -PSRemoting -AdminShares
```

### Cloud-First Կազմակերպություն
```powershell
# Intune-ով կառավարվող տեղակայում
Connect-IntuneGhost -Interactive
Set-Ghost -SMBv1 -RDP -AutoRun -Macros -Intune
```

## 🔍 Ֆունկցիաների Մանրամասներ

### Հիմնական Ամրապնդման Ֆունկցիաներ

#### Ցանցային Ծառայություններ
- **RDP**: Արգելափակում է հեռակա սեղանի մուտքը կամ պատահականացնում պորտը
- **SMBv1**: Անջատում է հին ֆայլ տրամադրման արձանագրությունը
- **ICMP**: Կանխում է ping պատասխանները հետախուզման համար
- **LLMNR/NetBIOS**: Արգելափակում է հին անունների լուծման արձանագրությունները

#### Ծրագրի Անվտանգություն
- **Մակրոներ**: Անջատում է մակրոների գործարկումը Office ծրագրերում
- **AutoRun**: Կանխում է ավտոմատ գործարկումը հեռացվող մեդիայից

#### Հեռակա Կառավարում
- **PSRemoting**: Անջատում է PowerShell հեռակա սեսիաները
- **WinRM**: Կանգնեցնում է Windows հեռակա կառավարումը
- **Remote Assistance**: Արգելափակում է հեռակա օգնության կապերը

#### Մուտքի Վերահսկողություն
- **Admin Shares**: Անջատում է C$, ADMIN$ կիսակցումները
- **Guest Account**: Անջատում է հյուրի հաշվի մուտքը
- **USB Storage**: Սահմանափակում է USB սարքերի օգտագործումը

### Azure Ինտեգրում
```powershell
# Միանալ Azure tenant-ին
Connect-AzureGhost -Interactive

# Միացնել անվտանգության լռելությամբ պարամետրերը
Set-AzureSecurityDefaults -Enable

# Կարգավորել պայմանական մուտք
Set-AzureConditionalAccess -BlockLegacyAuth -RequireMFA

# Ստուգել արտոնյալ օգտատերերին
Set-AzurePrivilegedUsers -AuditOnly
```

### Intune Ինտեգրում (Նոր v2-ում)
```powershell
# Միանալ Intune-ին
Connect-IntuneGhost -Interactive

# Տեղակայել Intune քաղաքականությունների միջոցով
Set-IntuneGhost -Settings @{
    RDP = $true
    SMBv1 = $true
    USBStorage = $true
    Macros = $true
}
```

## ⚠️ Կարևոր Հաշվառումներ

### Փորձարկման Պահանջներ
- **Լաբորատորիայի Միջավայր**: Նախ փորձարկել բոլոր կարգավորումները մեկուսացված միջավայրում
- **Փուլային Տեղակայում**: Աստիճանաբար տեղակայել խնդիրների նույնականացման համար
- **Վերադարձի Պլան**: Վստահ լինել, որ կարող եք վերադարձնել փոփոխությունները, եթե անհրաժեշտ է
- **Փաստագրում**: Գրանցել, թե որ կարգավորումները գործում են ձեր միջավայրի համար

### Հնարավոր Ազդեցություն
- **Օգտատիրոջ Արտադրողականություն**: Որոշ կարգավորումներ կարող են ազդել օրական աշխատանքային հոսքի վրա
- **Հին Ծրագրեր**: Ավելի հին համակարգերը կարող են պահանջել որոշակի արձանագրություններ
- **Հեռակա Մուտք**: Հաշվի առեք ազդեցությունը օրինական հեռակա ադմինիստրացիայի վրա
- **Բիզնես Պրոցեսներ**: Ստուգեք, որ կարգավորումները չեն կոտրում կառավար ֆունկցիաները

### Անվտանգության Սահմանափակումներ
- **Խորության մեջ Պաշտպանություն**: Ghost-ը անվտանգության մեկ շերտ է, ոչ թե ամբողջական լուծում
- **Շարունակական Կառավարում**: Անվտանգությունը պահանջում է շարունակական մոնիտորինգ և թարմացումներ
- **Օգտատիրոջ Ուսուցում**: Տեխնիկական վերահսկումները պետք է զուգակցվեն անվտանգության գիտակցության հետ
- **Սպառնալիքների Էվոլյուցիա**: Նոր հարձակման մեթոդները կարող են անցնել ընթացիկ պաշտպանությունից

## 🎯 Հարձակման Սցենարների Օրինակներ

Մինչդեռ Ghost-ը նպատակաուղղված է հարձակման ընդհանուր վեկտորներին, հատուկ կանխարգելումը կախված է ճիշտ կիրառումից և փորձարկումից.

### WannaCry-ի Ոճի Հարձակումներ
- **Մեղմացում**: `Set-Ghost -SMBv1` անջատում է խոցելի արձանագրությունը
- **Հաշվառում**: Վստահ լինել, որ ոչ մի հին համակարգ չի պահանջում SMBv1

### RDP-ի վրա Հիմնված Ransomware
- **Մեղմացում**: `Set-Ghost -RDP` արգելափակում է հեռակա սեղանի մուտքը
- **Հաշվառում**: Կարող է պահանջել հեռակա մուտքի այլընտրանքային մեթոդներ

### Փաստաթղթի վրա Հիմնված Malware
- **Մեղմացում**: `Set-Ghost -Macros` անջատում է մակրոների գործարկումը
- **Հաշվառում**: Կարող է ազդել օրինական մակրո-ակտիվացված փաստաթղթերի վրա

### USB-ով Հանձնվող Սպառնալիքներ
- **Մեղմացում**: `Set-Ghost -USBStorage -AutoRun` սահմանափակում է USB ֆունկցիոնալությունը
- **Հաշվառում**: Կարող է ազդել USB սարքերի օրինական օգտագործման վրա

## 🏢 Կորպորատիվ Հատկություններ

### Group Policy Աջակցություն
```powershell
# Կիրառել կարգավորումները Group Policy ռեգիստրի միջոցով
Set-Ghost -SMBv1 -RDP -AutoRun -GroupPolicy

# Կարգավորումները կիրառվում են դոմենում GP թարմացումից հետո
gpupdate /force
```

### Microsoft Intune Ինտեգրում
```powershell
# Ստեղծել Intune քաղաքականություններ Ghost կարգավորումների համար
Set-IntuneGhost -Settings $GhostSettings -Interactive

# Քաղաքականությունները ավտոմատ տեղակայվում են կառավարվող սարքերում
```

### Համապատասխանության Հաշվետվություն
```powershell
# Ստեղծել անվտանգության գնահատման հաշվետվություն
Get-Ghost | Export-Csv -Path "SecurityAudit-$(Get-Date -Format 'yyyy-MM-dd').csv"

# Azure անվտանգության դիրքի հաշվետվություն
Get-AzureGhost | Out-File "AzureSecurityReport.txt"
```

## 📚 Լավագույն Փորձառություններ

### Նախ-Տեղակայում
1. **Փաստագրել Ընթացիկ Վիճակը**: Գործարկել `Get-Ghost`-ը մինչ փոփոխությունները
2. **Մանրակրկիտ Փորձարկել**: Վավերացնել ոչ-արտադրական միջավայրում
3. **Վերադարձի Պլանավորում**: Իմանալ, թե ինչպես վերադարձնել յուրաքանչյուր կարգավորում
4. **Շահագրգիռ Կողմերի Գնահատում**: Վստահ լինել, որ բիզնես բաժինները հավանություն են տալիս փոփոխություններին

### Տեղակայման Ժամանակ
1. **Փուլային Մոտեցում**: Տեղակայել փիլոտ խմբերին առաջին
2. **Մոնիտորել Ազդեցությունը**: Հետևել օգտատերերի բողոքներին կամ համակարգի խնդիրներին
3. **Փաստագրել Խնդիրները**: Գրանցել ցանկացած խնդիր հետագա հղման համար
4. **Հաղորդել Փոփոխությունները**: Տեղեկացնել օգտատերերին անվտանգության բարելավումների մասին

### Հետ-Տեղակայում
1. **Կանոնավոր Գնահատում**: Պարբերաբար գործարկել `Get-Ghost`-ը կարգավորումները ստուգելու համար
2. **Թարմացնել Փաստագրումը**: Պահել անվտանգության կարգավորումները թարմ
3. **Գնահատել Արդյունավետությունը**: Մոնիտորել անվտանգության դեպքերի համար
4. **Շարունակական Բարելավում**: Կարգավորել կարգավորումները սպառնալիքների լանդշաֆտի հիման վրա

## 🔧 Խնդիրների Լուծում

### Հաճախակի Խնդիրներ
- **Թույլտվության Սխալներ**: Վստահ լինել, որ PowerShell սեսիան բարձրացված է
- **Ծառայության Կախվածություններ**: Որոշ ծառայություններ կարող են ունենալ կախվածություններ
- **Ծրագրի Համատեղելիություն**: Փորձարկել բիզնես ծրագրերի հետ
- **Ցանցային Կապակցություն**: Ստուգել, որ հեռակա մուտքը դեռ գործում է

### Վերականգնման Ընտրանքներ
```powershell
# Վերա-միացնել հատուկ ծառայությունները անհրաժեշտության դեպքում
Set-RDP -Enable
Set-SMBv1 -Enable
Set-AutoRun -Enable
Set-Macros -Enable
```

## 👨‍💻 Հեղինակի Մասին

**Jim Tyler** - Microsoft MVP PowerShell-ի համար
- **YouTube**: [@PowerShellEngineer](https://youtube.com/@PowerShellEngineer) (10,000+ բաժանորդ)
- **Տեղեկագիր**: [PowerShell.News](https://powershell.news) - Շաբաթական անվտանգության տեղեկատվություն
- **Հեղինակ**: "PowerShell for Systems Engineers"
- **Փորձառություն**: PowerShell ավտոմատացման և Windows անվտանգության տասնամյակներ

## 📄 Լիցենզիա և Հրաժարում

### MIT Լիցենզիա
Ghost-ը տրամադրվում է MIT լիցենզիայի ներքո անվճար օգտագործման, փոփոխման և բաշխման համար:

### Անվտանգության Հրաժարում
- **Ոչ Մի Երաշխիք**: Ghost-ը տրամադրվում է "ինչպես է" առանց ցանկացած տեսակի երաշխիքի
- **Փորձարկումը Անհրաժեշտ Է**: Միշտ փորձարկեք ոչ-արտադրական միջավայրերում առաջին
- **Մասնագիտական Ուղղորդում**: Խորհրդակցեք անվտանգության մասնագետների հետ արտադրական տեղակայումների համար
- **Օպերացիոն Ազդեցություն**: Հեղինակները պատասխանատու չեն ցանկացած օպերացիոն խաթարման համար
- **Ամբողջական Անվտանգություն**: Ghost-ը ամբողջական անվտանգության ռազմավարության մեկ բաղկացուցիչ է

### Աջակցություն
- **GitHub Խնդիրներ**: [Հաղորդել վրիպակների մասին կամ հարցնել հատկություններ](https://github.com/jimrtyler/Ghost/issues)
- **Փաստագրում**: Օգտագործել `Get-Help <function> -Full`-ը մանրամասն օգնության համար
- **Համայնք**: PowerShell և անվտանգության համայնքի ֆորումներ

---

**🔐 Ամրապնդեք ձեր անվտանգության դիրքը Ghost-ով՝ բայց միշտ նախ փորձարկեք:**

```powershell
# Սկսել գնահատումով, ոչ թե ենթադրություններով
Get-Ghost
```

**⭐ Աստղանշեք այս պահոցը, եթե Ghost-ը օգնում է բարելավել ձեր անվտանգության դիրքը:**